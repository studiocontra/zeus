<template>
  <footer class="js-footer" :class="`footer--${theme}`">
    <Shapes>
      <div class="shape red js-footer-shape"></div>
    </Shapes>
    <div class="container">
      <div class="row">
        <div class="col-md-4 col-lg-6">
          <div class="footer__logo">
            <svg viewBox="0 0 118 24" class="logo">
              <path d="M9.84247 23.9979C8.08901 23.9979 6.46311 23.6497 4.96679 22.9552C3.47048 22.2607 2.26776 21.2017 1.36065 19.7803C0.453552 18.3589 0 16.5892 0 14.4733C0.0607435 12.3858 0.528469 10.6181 1.4052 9.16638C2.28193 7.71461 3.46036 6.59693 4.9425 5.80928C6.42464 5.02367 8.07281 4.63086 9.88702 4.63086C12.0029 4.63086 13.7645 5.04594 15.1717 5.87813C16.5769 6.71031 17.6359 7.7389 18.3466 8.96187C19.0573 10.1869 19.4116 11.4078 19.4116 12.6267L13.6511 12.6267C13.3494 10.8631 12.169 9.98237 10.1138 9.98237C8.75314 9.98237 7.75492 10.3529 7.11914 11.094C6.48336 11.835 6.16749 12.7806 6.16749 13.9287C6.16749 15.3501 6.48538 16.4839 7.11914 17.3323C7.7529 18.1807 8.78149 18.6019 10.2029 18.6019C11.0189 18.6019 11.7599 18.3751 12.4261 17.9215C13.0902 17.468 13.4992 16.7208 13.6511 15.6842L19.4116 15.6842C19.4116 17.0246 19.0552 18.3306 18.3466 19.6001C17.6359 20.8696 16.5688 21.9205 15.1494 22.7527C13.728 23.5849 11.9584 24 9.84247 24V23.9979Z" />
              <path d="M31.6151 23.997C29.4081 23.997 27.5615 23.5819 26.0814 22.7498C24.5992 21.9176 23.4957 20.7756 22.7708 19.3258C22.046 17.8741 21.6815 16.2259 21.6815 14.3813C21.6511 12.5064 21.9994 10.8501 22.7243 9.41453C23.4492 7.97896 24.5608 6.84508 26.0591 6.01289C27.5554 5.18071 29.4081 4.76563 31.6151 4.76563C34.8507 4.76563 37.3088 5.64236 38.9853 7.39582C40.6639 9.14928 41.5021 11.4778 41.5021 14.3813C41.5021 16.1955 41.1458 17.8295 40.4371 19.2793C39.7264 20.731 38.6452 21.8811 37.1934 22.7275C35.7416 23.5738 33.8829 23.997 31.6131 23.997H31.6151ZM31.6151 18.7346C32.7328 18.7346 33.565 18.5078 34.1096 18.0543C34.6543 17.6007 35.0086 17.0196 35.1747 16.3069C35.3407 15.5962 35.4237 14.8774 35.4237 14.1525C35.4237 13.4276 35.3407 12.6704 35.1747 11.9759C35.0086 11.2814 34.6523 10.7063 34.1096 10.2528C33.565 9.79924 32.7328 9.57246 31.6151 9.57246C30.4974 9.57246 29.6571 9.79924 29.0983 10.2528C28.5374 10.7063 28.175 11.2814 28.009 11.9759C27.8429 12.6724 27.7599 13.3973 27.7599 14.1525C27.7599 14.9078 27.8429 15.5962 28.009 16.3069C28.175 17.0176 28.5374 17.5987 29.0983 18.0543C29.6571 18.5078 30.4974 18.7346 31.6151 18.7346Z" />
              <path d="M44.4521 23.5445V4.76465L49.9413 4.76465L50.9841 8.12174L51.0752 8.21286C51.4073 7.51835 51.7859 6.94332 52.2091 6.48976C52.6323 6.03621 53.2296 5.63531 54.001 5.28704C54.7725 4.93878 55.7626 4.76465 56.9714 4.76465C58.332 4.76465 59.4274 5.00762 60.2596 5.48952C61.0918 5.97344 61.7256 6.60113 62.165 7.37257C62.6023 8.14401 62.8979 8.9762 63.0498 9.8671C63.2016 10.76 63.2847 11.6206 63.2988 12.4528C63.313 13.2849 63.3211 13.9875 63.3211 14.5626V23.5445H57.1516V14.518C57.1516 13.8539 57.0989 13.2019 56.9937 12.5682C56.8863 11.9324 56.6231 11.3816 56.1999 10.9119C55.7768 10.4442 55.0499 10.2093 54.0233 10.2093C52.9967 10.2093 52.3144 10.4442 51.8912 10.9119C51.468 11.3816 51.2109 11.9324 51.1198 12.5682C51.0286 13.2039 50.9841 13.8539 50.9841 14.518V23.5445H44.4521Z" />
              <path d="M74.1191 23.5442C72.3049 23.5442 70.8673 23.121 69.8104 22.2746C68.7514 21.4283 68.223 19.8854 68.223 17.648V9.07508H65.5928V4.76432C66.3176 4.76432 66.9453 4.65903 67.4758 4.44643C68.0043 4.23585 68.4133 3.78837 68.7008 3.10804C68.9883 2.42772 69.1321 1.39305 69.1321 0L74.1212 0V4.76432H78.3388V9.07306H74.1212V18.6888L78.4765 18.6888V23.5422L74.1212 23.5422L74.1191 23.5442Z" />
              <path d="M81.6475 23.5445V4.76465L87.6348 4.76465L88.0438 10.1182C88.226 9.33256 88.5722 8.52265 89.0865 7.69046C89.6008 6.85827 90.3419 6.16377 91.3097 5.60291C92.2776 5.04407 93.5471 4.76465 95.1204 4.76465L95.5294 4.76465V11.7967L95.0758 11.7967C93.5633 11.7967 92.2776 11.8878 91.2206 12.068C90.1617 12.2503 89.3599 12.635 88.8172 13.2242C88.2726 13.8134 88.0012 14.759 88.0012 16.0589V23.5425H81.6515L81.6475 23.5445Z" />
              <path d="M104.919 23.9977C102.347 23.9977 100.571 23.1432 99.5893 21.4343C98.6052 19.7254 98.1152 17.405 98.1152 14.471C98.1152 12.505 98.3258 10.7961 98.751 9.34429C99.1742 7.89252 99.8849 6.76674 100.883 5.96493C101.881 5.16311 103.226 4.76221 104.921 4.76221C106.16 4.76221 107.166 4.93634 107.937 5.2846C108.709 5.63286 109.306 6.03377 109.729 6.48732C110.153 6.94087 110.515 7.51591 110.819 8.21041H110.91V4.76423L117.442 4.76423V23.5441H111.908L110.91 21.003H110.819C110.849 21.003 110.774 21.1549 110.592 21.4566C110.41 21.7582 110.1 22.1065 109.663 22.4993C109.223 22.8921 108.62 23.2404 107.848 23.5421C107.077 23.8438 106.101 23.9956 104.923 23.9956L104.919 23.9977ZM107.595 18.7818C108.624 18.7818 109.371 18.5773 109.841 18.1703C110.308 17.7613 110.604 17.2248 110.726 16.5606C110.847 15.8965 110.908 15.2162 110.908 14.5196C110.908 13.8231 110.847 13.1063 110.726 12.4564C110.604 11.8064 110.311 11.284 109.841 10.8912C109.371 10.4984 108.624 10.302 107.595 10.302C106.567 10.302 105.818 10.5065 105.35 10.9135C104.88 11.3225 104.586 11.8429 104.465 12.4787C104.343 13.1144 104.283 13.7948 104.283 14.5196C104.283 15.2445 104.343 15.9329 104.465 16.5829C104.584 17.2329 104.88 17.7613 105.35 18.1703C105.818 18.5793 106.567 18.7818 107.595 18.7818Z" />
            </svg>

            <span>
              &copy;{{ currentYear }}
            </span>

            <svg
              viewBox="0 0 18 15"
              class="arrow"
              @click="scrollUp">
              <path d="M9.59961 1.2L15.9996 7.6L9.59961 14" />
              <path d="M0 7.59979L10.5143 7.59979" />
            </svg>
          </div>
        </div>

        <div class="col-md-8 col-lg-6">
          <div class="footer__content">
            <p class="title">
              Want to collaborate with us?<br>Weâ€™d love to hear from you.
            </p>

            <Link
              link="/about"
              text="Know about us"
              :theme="theme" />
          </div>

          <div class="footer__logo footer__logo--mobile">
            <svg viewBox="0 0 118 24" class="logo">
              <path d="M9.84247 23.9979C8.08901 23.9979 6.46311 23.6497 4.96679 22.9552C3.47048 22.2607 2.26776 21.2017 1.36065 19.7803C0.453552 18.3589 0 16.5892 0 14.4733C0.0607435 12.3858 0.528469 10.6181 1.4052 9.16638C2.28193 7.71461 3.46036 6.59693 4.9425 5.80928C6.42464 5.02367 8.07281 4.63086 9.88702 4.63086C12.0029 4.63086 13.7645 5.04594 15.1717 5.87813C16.5769 6.71031 17.6359 7.7389 18.3466 8.96187C19.0573 10.1869 19.4116 11.4078 19.4116 12.6267L13.6511 12.6267C13.3494 10.8631 12.169 9.98237 10.1138 9.98237C8.75314 9.98237 7.75492 10.3529 7.11914 11.094C6.48336 11.835 6.16749 12.7806 6.16749 13.9287C6.16749 15.3501 6.48538 16.4839 7.11914 17.3323C7.7529 18.1807 8.78149 18.6019 10.2029 18.6019C11.0189 18.6019 11.7599 18.3751 12.4261 17.9215C13.0902 17.468 13.4992 16.7208 13.6511 15.6842L19.4116 15.6842C19.4116 17.0246 19.0552 18.3306 18.3466 19.6001C17.6359 20.8696 16.5688 21.9205 15.1494 22.7527C13.728 23.5849 11.9584 24 9.84247 24V23.9979Z" />
              <path d="M31.6151 23.997C29.4081 23.997 27.5615 23.5819 26.0814 22.7498C24.5992 21.9176 23.4957 20.7756 22.7708 19.3258C22.046 17.8741 21.6815 16.2259 21.6815 14.3813C21.6511 12.5064 21.9994 10.8501 22.7243 9.41453C23.4492 7.97896 24.5608 6.84508 26.0591 6.01289C27.5554 5.18071 29.4081 4.76563 31.6151 4.76563C34.8507 4.76563 37.3088 5.64236 38.9853 7.39582C40.6639 9.14928 41.5021 11.4778 41.5021 14.3813C41.5021 16.1955 41.1458 17.8295 40.4371 19.2793C39.7264 20.731 38.6452 21.8811 37.1934 22.7275C35.7416 23.5738 33.8829 23.997 31.6131 23.997H31.6151ZM31.6151 18.7346C32.7328 18.7346 33.565 18.5078 34.1096 18.0543C34.6543 17.6007 35.0086 17.0196 35.1747 16.3069C35.3407 15.5962 35.4237 14.8774 35.4237 14.1525C35.4237 13.4276 35.3407 12.6704 35.1747 11.9759C35.0086 11.2814 34.6523 10.7063 34.1096 10.2528C33.565 9.79924 32.7328 9.57246 31.6151 9.57246C30.4974 9.57246 29.6571 9.79924 29.0983 10.2528C28.5374 10.7063 28.175 11.2814 28.009 11.9759C27.8429 12.6724 27.7599 13.3973 27.7599 14.1525C27.7599 14.9078 27.8429 15.5962 28.009 16.3069C28.175 17.0176 28.5374 17.5987 29.0983 18.0543C29.6571 18.5078 30.4974 18.7346 31.6151 18.7346Z" />
              <path d="M44.4521 23.5445V4.76465L49.9413 4.76465L50.9841 8.12174L51.0752 8.21286C51.4073 7.51835 51.7859 6.94332 52.2091 6.48976C52.6323 6.03621 53.2296 5.63531 54.001 5.28704C54.7725 4.93878 55.7626 4.76465 56.9714 4.76465C58.332 4.76465 59.4274 5.00762 60.2596 5.48952C61.0918 5.97344 61.7256 6.60113 62.165 7.37257C62.6023 8.14401 62.8979 8.9762 63.0498 9.8671C63.2016 10.76 63.2847 11.6206 63.2988 12.4528C63.313 13.2849 63.3211 13.9875 63.3211 14.5626V23.5445H57.1516V14.518C57.1516 13.8539 57.0989 13.2019 56.9937 12.5682C56.8863 11.9324 56.6231 11.3816 56.1999 10.9119C55.7768 10.4442 55.0499 10.2093 54.0233 10.2093C52.9967 10.2093 52.3144 10.4442 51.8912 10.9119C51.468 11.3816 51.2109 11.9324 51.1198 12.5682C51.0286 13.2039 50.9841 13.8539 50.9841 14.518V23.5445H44.4521Z" />
              <path d="M74.1191 23.5442C72.3049 23.5442 70.8673 23.121 69.8104 22.2746C68.7514 21.4283 68.223 19.8854 68.223 17.648V9.07508H65.5928V4.76432C66.3176 4.76432 66.9453 4.65903 67.4758 4.44643C68.0043 4.23585 68.4133 3.78837 68.7008 3.10804C68.9883 2.42772 69.1321 1.39305 69.1321 0L74.1212 0V4.76432H78.3388V9.07306H74.1212V18.6888L78.4765 18.6888V23.5422L74.1212 23.5422L74.1191 23.5442Z" />
              <path d="M81.6475 23.5445V4.76465L87.6348 4.76465L88.0438 10.1182C88.226 9.33256 88.5722 8.52265 89.0865 7.69046C89.6008 6.85827 90.3419 6.16377 91.3097 5.60291C92.2776 5.04407 93.5471 4.76465 95.1204 4.76465L95.5294 4.76465V11.7967L95.0758 11.7967C93.5633 11.7967 92.2776 11.8878 91.2206 12.068C90.1617 12.2503 89.3599 12.635 88.8172 13.2242C88.2726 13.8134 88.0012 14.759 88.0012 16.0589V23.5425H81.6515L81.6475 23.5445Z" />
              <path d="M104.919 23.9977C102.347 23.9977 100.571 23.1432 99.5893 21.4343C98.6052 19.7254 98.1152 17.405 98.1152 14.471C98.1152 12.505 98.3258 10.7961 98.751 9.34429C99.1742 7.89252 99.8849 6.76674 100.883 5.96493C101.881 5.16311 103.226 4.76221 104.921 4.76221C106.16 4.76221 107.166 4.93634 107.937 5.2846C108.709 5.63286 109.306 6.03377 109.729 6.48732C110.153 6.94087 110.515 7.51591 110.819 8.21041H110.91V4.76423L117.442 4.76423V23.5441H111.908L110.91 21.003H110.819C110.849 21.003 110.774 21.1549 110.592 21.4566C110.41 21.7582 110.1 22.1065 109.663 22.4993C109.223 22.8921 108.62 23.2404 107.848 23.5421C107.077 23.8438 106.101 23.9956 104.923 23.9956L104.919 23.9977ZM107.595 18.7818C108.624 18.7818 109.371 18.5773 109.841 18.1703C110.308 17.7613 110.604 17.2248 110.726 16.5606C110.847 15.8965 110.908 15.2162 110.908 14.5196C110.908 13.8231 110.847 13.1063 110.726 12.4564C110.604 11.8064 110.311 11.284 109.841 10.8912C109.371 10.4984 108.624 10.302 107.595 10.302C106.567 10.302 105.818 10.5065 105.35 10.9135C104.88 11.3225 104.586 11.8429 104.465 12.4787C104.343 13.1144 104.283 13.7948 104.283 14.5196C104.283 15.2445 104.343 15.9329 104.465 16.5829C104.584 17.2329 104.88 17.7613 105.35 18.1703C105.818 18.5793 106.567 18.7818 107.595 18.7818Z" />
            </svg>

            <span>
              &copy;{{ currentYear }}
            </span>

            <svg
              viewBox="0 0 18 15"
              class="arrow"
              @click="scrollUp">
              <path d="M9.59961 1.2L15.9996 7.6L9.59961 14" />
              <path d="M0 7.59979L10.5143 7.59979" />
            </svg>
          </div>

          <div class="footer__menu">
            <a href="https://www.instagram.com/contra_studio_/" target="_blank">
              Instagram
            </a>
            <a href="https://www.awwwards.com/contrastudio/" target="_blank">
              Awwwards
            </a>
            <a href="https://www.linkedin.com/company/contra-studio" target="_blank">
              LinkedIn
            </a>

          </div>
        </div>
      </div>
    </div>
  </footer>
</template>

<script>
import { gsap } from 'gsap';
import { ScrollTrigger } from 'gsap/ScrollTrigger';

gsap.registerPlugin(ScrollTrigger);

export default {
  name: 'MainFooter',
  props: {
    theme: {
      type: String,
      default: 'light'
    }
  },
  data() {
    return {
      showShape: null,
    };
  },
  mounted() {
    setTimeout(() => {
      this.showShape = ScrollTrigger.matchMedia({
        // large
        "(min-width: 768px)": function() {
          this.showShape = gsap.timeline({
            scrollTrigger: {
              trigger: '.js-footer',
              start: 'bottom 105%',
              scrub: false,
              toggleActions: 'play none reverse reset'
            }
          })
          .from('.js-footer-shape', {
            top: '100%',
            duration: 0.4
          });
        },
        // small
        "(max-width: 767px)": function() {
          this.showShape = gsap.timeline({
            scrollTrigger: {
              trigger: '.js-footer',
              start: 'bottom 105%',
              scrub: false,
              toggleActions: 'play none reverse reset',
              // markers: true,
            }
          })
          .from('.js-footer-shape', {
            top: '90%',
            duration: 0.4
          });
        },

      });
    }, 750);

    window.addEventListener('resize', () => {
      this.showShape.scrollTrigger.refresh();
    })
  },
  beforeDestroy() {
    this.showShape.kill();
  },
  methods: {
    scrollUp(){
      window.scroll({
        top: 0,
        behavior: 'smooth'
      });
    }
  },
  computed: {
    currentYear() {
      return new Date().getFullYear();
    }
  }
}
</script>

<style lang="scss" scoped>
  @import "@/assets/scss/components/footer";
</style>
